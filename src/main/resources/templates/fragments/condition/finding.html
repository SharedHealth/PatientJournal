<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<body>
<th:block th:fragment="conditions (conditions)">
    <th:block th:if="${!conditions.isEmpty()}">
        <table class="table-condition" cellpadding="0" cellspacing="0">
            <tr>
                <th class="col-condition">Finding</th>
                <th class="col-status">Status</th>
                <th class="col-certainty">Certainty</th>
                <th class="col-severity">Severity</th>
                <th class="col-onset">Onset</th>
            </tr>

            <th:block th:each="condition: ${conditions}">
                <th:block th:object="${condition}">
                    <tr>
                        <td class="col-condition" th:text="*{getCode().getCoding().get(0).getDisplaySimple()}"></td>
                        <td class="col-status" th:text="*{getStatusSimple()}"></td>
                        <td class="col-certainty" th:text="*{getCertainty()}?*{getCertainty().getCoding().get(0).getDisplaySimple()}"></td>
                        <td class="col-severity" th:text="*{getSeverity()}?*{getSeverity().getCoding().get(0).getDisplaySimple()}"></td>
                        <td class="col-onset" fhir:onset="*{getOnset()}"></td>
                    </tr>
                </th:block>
            </th:block>
        </table>
    </th:block>
</th:block>

</body>
</html>